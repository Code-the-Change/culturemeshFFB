{% extends "base.html" %}

{% block content %}

  <!-- Post text and blurb -->
  <div class="wrapper container-fluid">

    <div class="my-2 py-1 row">
      <div class="px-4 py-2 row">
        <div id="cm-post-blurb">
          Post in Network: <strong>{{ post['network_title'] }}</strong>
        </div>
      </div>
      <div class="p-3 cm-post-text">
        <div class="col">
          <div class="row text-left">
            <span class="cm-username">{{ post['username'] }}</span>
            <span class="cm-time-ago">{{ post['time_ago'] }}</span>
          </div>
          <div class="row py-2">
          {{ post['post_text'] }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Post replies -->
  {% if num_replies is defined and num_replies > 0 %}
    <div class="cm-replies-box py-1">
      <div class="wrapper container-fluid p-2 pl-5">
        <div class="text-left pb-3 pl-0" id="cm-reply-header">
          Replies
        </div>

        {% for i in range(num_replies) %}
        <div class="cm-post-text p-4">
          <div class="row text-left">
            <span class="cm-username">{{ replies[i]['username'] }}</span>
            <span class="cm-time-ago">{{ replies[i]["time_ago"] }}</span>
          </div>
          <div class="row py-2">
            {{ replies[i]["reply_text"] }}
          </div>
        </div>
        {% endfor %}

      </div>
    </div>
  {% endif %}

  <!-- Add reply box -->

  <div class="wrapper container-fluid py-3">
    <div class="cm-add-reply-div text-right">
      <textarea class="my-1 form-control"
                rows="4" id="cm-post-comment" placeholder="Leave a reply..."></textarea>
    </div>
    <div class="col">
      <div class="row pr-3">
          <button type="button" class="my-2 btn btn-secondary btn-sm pr-3" id="cm-reply-submit-button">
          Reply
          </button>
      </div>
    </div>
  </div>

{% endblock %}
